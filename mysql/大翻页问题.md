# 大翻页问题

当需要分页查询时，会经常跨页翻页，我们会利用limit关键字。
```java
select * from user limit 10000,20
```
假如从10000条开始查询，查20条记录。SQL会扫描9999条数据，直到第10000条才开始获取数据，这样的效率会非常低。


改进方法有两类：

- 使用连续翻页

连续翻页指的是只能前一页后一页的点，不能直接定位到某一页。


连续翻页是对每一页的数据都针对id进行排序，当选择下一页的时候会根据where id > ${maxId}从满足条件的第一条数据进行匹配，就不用从第一条数据开始扫描了。
除此之外，还对id建立索引，因为MySQL的索引用的是B+树，有了where条件就能很快的匹配到满足条件的第一条数据。


限制条件：

1. 排序字段必须同时是索引字段
1. id必须递增





- 使用覆盖索引

覆盖索引可以直接在索引节点上拿数据，无需回表查询
可以先根据覆盖索引查出对应的id，然后再拿id用等值查询返回数据
```sql
select * from 
(select id from job limit 1000000,100) a
left join job b on a.id = b.id;
```


