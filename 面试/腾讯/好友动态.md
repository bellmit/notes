## 参考博文
[好友动态的实现原理](https://learnku.com/articles/2750/dynamic-realization-of-the-principle-of-friends)


# 1. 推模型
一个人发了微博之后，放到粉丝的消息队列中，然后粉丝去自己的消息队列中拿

问题是如果关注它的人非常多，推送的压力就非常大。

# 2. 拉模型
一个人发送微博后，由用户主动来拉取。

如果我关注的人非常多，就有压力。可以限制关注的人数量


# 3. 推拉结合
1. 对于在线用户：主动推送到用户的消息队列中

2. 对于非在线用户：被动拉取，每次获取都获取在我上次查询时间之后发表的。进一步可以限制拉取的条数。也可以限制更新时间的查询



3. 对于一些热门微博可以存储在缓存中，那拉取的就很快

4. 对于用户浏览过的微博，也可以为用户建立缓存，下次刷的时候就直接从缓存里拿

